parameters:
  - name: "WebAppNameDev"
    type: string
  - name: "Package"
    type: string
  - name: "Environment"
    type: string

jobs:
  - deployment: Deploy
    pool:
      vmImage: "ubuntu-20.04"
    environment: ${{ parameters.Environment }}
    variables:
      - group: "Release"
    strategy:
      runOnce:
        deploy:
          steps:
            - download: current
              artifact: drop
            - task: AzureWebApp@1
              displayName: "Azure App Service Deploy: website"
              inputs:
                azureSubscription: "Resource Manager - Tailspin - Space Game"
                appName: "${{ parameters.WebAppNameDev }}"
                package: "${{ parameters.Package }}"
                resourceGroupName: "tailspin-space-game-rg"